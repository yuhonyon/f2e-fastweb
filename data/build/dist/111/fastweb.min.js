!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("fastweb",[],i):"object"==typeof exports?exports.fastweb=i():t.fastweb=i()}(this,function(){return function(t){function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var e={};return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=4)}([function(t,i,e){"use strict";var n=e(7),o=e(8);e.n(o);window.f2eModalZIndex=9999;class s extends n.a{constructor(t,i){super(),f2eModalZIndex++,this.f2eModalZIndex=f2eModalZIndex,i&&(this.$element=$(i)),this.defaults={backdrop:!0,show:!1,time:0,type:"defalut",width:null,height:null,container:document.body,location:"center",content:null,title:null,icon:"logo",btn:null,mold:"",value:"",animation:["fadeIn","fadeOut"],animationSpeed:500,backdropClass:"modal-backdrop",containerClass:"modal-container",headerClass:"modal-header",footerClass:"modal-footer",iconClass:"modal-icon",contentClass:"modal-content",toastClass:"modal-toast",onInit:null,onShow:null,onClickBtn:null,onHide:null},this.DEFAULT_ICON={ok:"",error:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3QzgxNjk4NzQxRUQxMUU3ODAzRkZBRjU3RTAwQUE3NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3QzgxNjk4ODQxRUQxMUU3ODAzRkZBRjU3RTAwQUE3NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdDODE2OTg1NDFFRDExRTc4MDNGRkFGNTdFMDBBQTc2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjdDODE2OTg2NDFFRDExRTc4MDNGRkFGNTdFMDBBQTc2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+GTORKwAAB0pJREFUeNrUWmls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",warning:""},this._timer={},this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.destroy=this.destroy.bind(this),this.init(t)}init(t){this.destroy(),t&&!t.animation&&t.location&&("top"==t.location?this.defaults.animation=["slideInUp","slideOutUp"]:"bottom"==t.location&&(this.defaults.animation=["slideInDown","slideOutDown"])),this.options=$.extend(!1,{},this.defaults,t),t&&(this._creatModal(),this.options.show&&this.show()),this.emit("onInit",this)}_changeContent(t){return this.$modalContent.html(t),this}_changeOptions(t){return this.options=$.extend(!0,this.options,t),this}_creatModal(){if(this.options.backdrop&&(this.$backdrop=$("<div style='z-index:"+(f2eModalZIndex-1)+"' class='"+this.options.backdropClass+"'></div>"),$(this.options.container).append(this.$backdrop),this.$backdrop.on("touchmove",()=>!1),!0===this.options.backdrop&&this.$backdrop.on("click",()=>{this.hide()})),this.$element)return this.$modalContainer=this.$element,this.$modalContainer.css("zIndex",f2eModalZIndex),$(this.options.container).append(this.$modalContainer),this.$element.on("click",".modal-close",()=>{this.hide()}),void this._location();if(this.$modalContainer=$("<div style='z-index:"+f2eModalZIndex+"' class='"+this.options.containerClass+"'></div>"),this.options.width&&this.$modalContainer.css("width",this.options.width),this.options.height&&this.$modalContainer.css("height",this.options.height),this.$modalContent=$("<div class='"+this.options.contentClass+"'></div>"),this.options.title&&(this.$modalHeader=$("<div class='"+this.options.headerClass+"'>"+this.options.title+"</div>"),this.$modalContainer.append(this.$modalHeader)),this.options.icon){let t=this.DEFAULT_ICON[this.options.icon]?this.DEFAULT_ICON[this.options.icon]:this.options.icon;this.$modalIcon=$("<div class='"+this.options.iconClass+"'><img src='"+t+"' /></div>")}if(this.$modalContent.append(this.$modalIcon),this.$modalContent.append(this.options.content),this.$modalContainer.append(this.$modalContent),this.options.btn){this.$modalFooter=$("<div class='"+this.options.footerClass+"'></div>"),this.$modalContainer.append(this.$modalFooter),this.$modalFooter.on("click","button",t=>{this.emit("onClickBtn",this,t)});for(let t in this.options.btn){let i=$("<button>"+t+"</button>");i.on("click",i=>{this.options.btn[t]&&("prompt"==this.options.mold?this.options.btn[t].bind(this)(this.$input.val(),i):this.options.btn[t].bind(this)(i)),this.hide(),setTimeout(()=>{this.destroy()},this.options.animationSpeed)}),this.$modalFooter.append(i),i=null}}$(this.options.container).append(this.$modalContainer),this.$modalContainer.on("click",".modal-close",()=>{this.hide()}),"toast"==this.options.mold&&this.$modalContainer.addClass(this.options.toastClass),"prompt"==this.options.mold&&(this.$input=$("<input class='modal-prompt' type='text'/>"),this.$input.val(this.options.value),this.$modalContent.append(this.$input)),this._location()}_location(){"top"==this.options.location?this.$modalContainer.addClass("top"):"bottom"==this.options.location?this.$modalContainer.addClass("bottom"):this.$modalContainer.addClass("center")}_autoHideModal(){0!=this.options.time&&(this._clearTimer(),this._timer.autoHideTimer=setTimeout(()=>{this.hide()},this.options.time))}_clearTimer(t){if(void 0===t)for(let t in this._timer)clearTimeout(this._timer[t]);else clearTimeout(this._timer[t])}show(){if(this.$modalContainer||this._creatModal(),this.$modalContainer.is(":hidden"))return this.f2eModalZIndex<f2eModalZIndex&&(f2eModalZIndex++,this.f2eModalZIndex=f2eModalZIndex,this.$modalContainer.css("zIndex",f2eModalZIndex),this.options.backdrop&&this.$backdrop.css("zIndex",f2eModalZIndex)),this.$modalContainer.addClass(this.options.animation[0]).removeClass(this.options.animation[1]),this.options.backdrop&&this.$backdrop.fadeIn(300),this.$modalContainer.show(),this._autoHideModal(),this.emit("onShow",this),this}hide(t){if(t)return this._clearTimer(),this.$modalContainer.hide(),this.options.backdrop&&this.$backdrop.hide(),this.emit("onHide",this),this;if(this.$modalContainer&&!this.$modalContainer.is(":hidden"))return this.$modalContainer.addClass(this.options.animation[1]).removeClass(this.options.animation[0]),this._clearTimer(),this._timer.hideTimer=setTimeout(()=>{this.$modalContainer.hide()},this.options.animationSpeed),this.options.backdrop&&this.$backdrop.fadeOut(300),this.emit("onHide",this),this}destroy(){this.$modalContainer&&this.$modalContainer.remove(),this.$backdrop&&this.$backdrop.remove(),this._clearTimer(),this.$backdrop=null,this.$modalContainer=null,this.$modalContent=null,this.$modalHeader=null,this.$modalFooter=null,this.$modalIcon=null,this.emit("onDestroy",this)}}i.a=s},function(t,i,e){"use strict";i.a=function(t,i,e="/"){let n=window.location.host,o="";return/\.pre\./.test(n)?o=".pre":/(\.qa\.)|localhost:|\d+\.\d+\.\d+\.\d/.test(n)&&(o=".qa"),`${location.protocol}//${t}${o}.91jkys.com${i?":"+i:""}${e}`};e(6);const n=window.navigator.userAgent,o="undefined"!=typeof Sailer;/^tangyi/.test(n),/^tangyi-gongzuozhan/.test(n),o?Sailer.isWechat:/MicroMessenger/i.test(n),o?Sailer.isAndroid:/Android/i.test(n),o?Sailer.isIOS:/iPhone|iPad|iPod/i.test(n)},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.alert=function(t,i,e){let o,s;$.isFunction(i)&&(e=i,i=null),e||(s=new Promise((t,i)=>{o={resolve:t,reject:i}}),e=o.resolve);let a={backdrop:"static",content:t,btn:{"确定":e},title:null,icon:i?null:"logo",mold:"alert",show:!0};return s?(new n.a(a),s):new n.a(a)},i.confirm=function(t,i=null,e,o){let s,a;$.isFunction(i)&&(o=e,e=i,i=null),o||e||(a=new Promise((t,i)=>{s={resolve:t,reject:i}}),e=s.resolve,o=s.reject);let h={backdrop:"static",content:t,btn:{"确定":e,"取消":o},title:i,icon:i?null:"logo",mold:"confirm",show:!0};return a?(new n.a(h),a):new n.a(h)},i.prompt=function(t,i,e=null,o,s){let a,h;$.isFunction(e)&&(s=o,o=e,e=null),$.isFunction(i)&&(s=o,o=i,i=null),s||o||(h=new Promise((t,i)=>{a={resolve:t,reject:i}}),o=a.resolve,s=a.reject);let r={backdrop:"static",content:t,btn:{"确定":o,"取消":s},title:e,icon:e?null:"logo",mold:"prompt",show:!0,value:i};return h?(new n.a(r),h):new n.a(r)},i.toast=function(t,i=1e3){if(!o){let e={backdrop:!1,content:t,btn:null,time:i,title:null,icon:null,show:!0,mold:"toast"};return o=new n.a(e),console.log(o),o}o.$modalContainer.is(":hidden")||o.hide(!0),o._changeOptions({time:i})._changeContent(t).show()};var n=e(0);let o},function(t,i,e){"use strict";i.b=function(t){let i=document.cookie.split("; ");for(let e in i){let n=i[e].split("=");if(t==n[0])return unescape(n[1])}return null},i.c=function(t,i,e,n,o){document.cookie=t+"="+i+(e?"; expires="+function(t){let i=new Date;return i.setTime(i.getTime()+60*t*60*1e3),i.toGMTString()}(e):"")+(n?"; path="+n:"")+(o?"; domain="+o:"")};window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(5),o=e(10),s=e(3);e.d(i,"Utils",function(){return s.default}),e.d(i,"WechatLogin",function(){return o.a}),e.d(i,"WechatShare",function(){return n.a})},function(t,i,e){"use strict";var n=e(1);class o{constructor(t,i,e,n){"object"!=typeof i&&(n=e=i,i=t),this.config=t,this.shareData=i,this.successFn=e,this.cancelFn=n,this.noWechatShareList=["weixinguanzhu"]}initShare(){$.getScript("https://res.wx.qq.com/open/js/jweixin-1.0.0.js",()=>{this.getJSSDKConfig()})}getWechatApi(){return Object(n.a)("jkys-wechat","","/v3")}getJSSDKConfig(){jQuery.support.cors=!0,$.ajax({url:this.getWechatApi()+"/wechat/shareConfig",xhrFields:{withCredentials:!0},data:{url:location.href.split("#")[0]},success:t=>{this.config=t,this.setShare()}})}setShare(t,i,e){t&&(this.shareData=t),i&&(this.successFn=i),e&&(this.cancelFn=e),this.setConfig(),this.setCommonBehavior();let n=$('meta[name="tracker-id"]').attr("content");this.noWechatShareList.some(function(t){return n==t})?this.hideOptionMenu():this.showOptionMenu()}successFn(t){T.shareSuccess&&T.shareSuccess.constructor===Function&&T.shareSuccess(t),console.log("分享成功")}cancelFn(t){T.sharecancelFn&&T.sharecancelFn.constructor===Function&&T.sharecancelFn(t),console.log("分享已取消")}setConfig(){window.wx&&wx.config({debug:!1,appId:this.config.appId,timestamp:this.config.timestamp,nonceStr:this.config.nonceStr,signature:this.config.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","hideOptionMenu","showOptionMenu"]})}setCommonBehavior(){this.shareTimeline(this.shareData),this.shareAppMessage(this.shareData),this.shareQQ(this.shareData),this.shareQZone(this.shareData)}shareTimeline(t){window.wx&&wx.ready(()=>{wx.onMenuShareTimeline({title:t.title,desc:t.content,link:t.link,imgUrl:t.imageUrl,success:this.successFn,cancel:this.cancelFn})})}shareAppMessage(t){window.wx&&wx.ready(()=>{wx.onMenuShareAppMessage({title:t.title,desc:t.content,link:t.link,imgUrl:t.imageUrl,success:this.successFn,cancel:this.cancelFn})})}shareQQ(t){window.wx&&wx.ready(()=>{wx.onMenuShareQQ({title:t.title,desc:t.content,link:t.link,imgUrl:t.imageUrl,success:this.successFn,cancel:this.cancelFn})})}shareQZone(t){window.wx&&wx.ready(()=>{wx.onMenuShareQZone({title:t.title,desc:t.content,link:t.link,imgUrl:t.imageUrl,success:this.successFn,cancel:this.cancelFn})})}hideOptionMenu(){window.wx&&wx.ready(function(){wx.hideOptionMenu()})}showOptionMenu(){window.wx&&wx.ready(function(){wx.showOptionMenu()})}}i.a=o},function(t,i,e){"use strict";e(0);var n=e(2);e(9);e.d(i,"a",function(){return n})},function(t,i,e){"use strict";class n{constructor(){this.emitter=[]}emit(t,...i){if(this.emitter[t])for(let e=0;e<this.emitter[t].length;e++)this.emitter[t][e](...i);this.options&&this.options[t]&&this.options[t](...i)}on(t,i){return this.emitter[t]||(this.emitter[t]=[]),this.emitter[t].push(i),this}off(t,i){if(void 0===i)return this.emitter[t]=[],this;if(this.emitter[t]&&0!==this.emitter[t].length){for(let e=0;e<this.emitter[t].length;e++)this.emitter[t][e]===i&&this.emitter[t].splice(e,1);return this}}one(t,i){let e=(...n)=>{i(...n),this.off(t,e)};return this.on(t,e),this}}i.a=n},function(t,i){},function(t,i,e){"use strict";e(0),e(2)},function(t,i,e){"use strict";var n=e(3),o=e(1);class s{constructor(t){this.wechatUserInfo=t}getWechatApi(){return Object(o.a)("jkys-wechat","","/v3")}getWechatUserInfo(t){null!=this.wechatUserInfo?t&&t.constructor===Function&&t(this.wechatUserInfo):this.isWechatLogin()?this.getBindInfo(t):this.checkLoginWithAction()}checkLoginWithAction(){Object(n.c)("re_url",encodeURIComponent(location.href.replace(/&from=singlemessage/,"")),1,"/",".91jkys.com"),this.wechatAuth()}wechatAuth(){jQuery.support.cors=!0,$.ajax({url:this.getWechatApi()+"/wechat/relogin",xhrFields:{withCredentials:!0},data:{returnUrl:!0},success:function(t){location.href=t.url}})}isWechatLogin(){return!!Object(n.b)("login")}getBindInfo(t){jQuery.support.cors=!0,$.ajax({url:this.getMallApi()+"/user/getBindInfo",xhrFields:{withCredentials:!0},success:function(i){0==i.errcode?(this.wechatUserInfo=i,t&&t.constructor===Function&&t(this.wechatUserInfo)):this.checkLoginWithAction()},error:function(){this.checkLoginWithAction()}})}getMallApi(){var t=location.host,i=location.protocol;return t.indexOf("static.91jkys.com")>-1||t.indexOf("static.mall-91jkys.com")>-1?i+"//mall-wechat.91jkys.com/v3":t.indexOf("static.pre.91jkys.com")>-1||t.indexOf("static.pre.mall-91jkys.com")>-1?i+"//mall-wechat.pre.91jkys.com/v3":i+"//api.qa.91jkys.com/mall-wechat/v3"}}i.a=s}])});